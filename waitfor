# THIS FUNCTION DOES NOT EXECUTE AS A SCRIPT. SOURCE THIS FILE OR ADD YOUR OWN SHEBANG
#
# This function takes two arguments.
# The first argument is the files that you want to watch out for
# The second argument is the command to run.
# Example: You want to compile a program anytime you save to a .cpp file or a .h file in the CWD
#	Invocation: waitfor "./*.h ./*.cpp" "make"
# This will compile your code anytime your make a change to your source code. 
# I like this function since I can have it running in a separate window in terminator, and just write my code.
# I notice any errors that show up and can correct them immediately, but my flow is uninterrupted.
waitfor() {
    while true; do
        echo "Thank you for being lazy"
        echo "COMMAND: $2"
        echo "WATCHED FILES: $(echo $1)"
# The use of echo here forces the shell to perform globbing and expansions 
        if inotifywait -e modify $(echo $1); then
            echo "EXECUTING COMMAND"    
            $2  
            sleep 5
            clear
        fi  
    done
}

